<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Verre'ifieur</title>
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/logo192.png">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="stylesheet" href="/style.css">
  <script src="/app.js" defer></script>
</head>
<body>

<img src="/logo512.png" alt="Logo Verre'ifieur" class="logo" />

<div class="calculator-container">
  <div class="caution-bubble" id="cautionBubble">Caution : 2.00 â‚¬</div>
  <h1 class="rainbow-title">Calcul cautions</h1>

  <!-- Ligne gobelets rendus (fixe) -->
  <div class="form-group">
    <label>Gobelets rendus</label>
    <input type="number" id="nombreGobeletsRendus" value="0" min="0"
      onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <!-- Lignes produits (gÃ©nÃ©rÃ©es dynamiquement) -->
  <div id="lignesProduits"></div>

  <div class="buttons">
    <button class="btn-calc" onclick="calculerSolde()">ğŸ’° Calculer</button>
    <button class="btn-reset" onclick="nouveauClient()">ğŸ”„ Nouveau</button>
  </div>

  <div id="resultat" class="result-box"></div>

  <div id="rendMonnaie">
    <h3>ğŸ’µ Calculatrice rapide</h3>
    <div class="form-group">
      <label>Client donne :</label>
      <input type="number" id="montantDonne" value="0" min="0" step="0.01"
        onfocus="clearZero(this)" onblur="resetToZero(this)" oninput="calculerRenduMonnaie()">
    </div>
    <div class="quick-buttons">
      <button class="btn-quick" onclick="setMontant(5)">5â‚¬</button>
      <button class="btn-quick" onclick="setMontant(10)">10â‚¬</button>
      <button class="btn-quick" onclick="setMontant(20)">20â‚¬</button>
      <button class="btn-quick" onclick="setMontant(50)">50â‚¬</button>
    </div>
    <p id="renduMonnaie"></p>
  </div>

  <button class="settings-btn" onclick="toggleParametres()">âš™ï¸ ParamÃ¨tres</button>

  <div id="parametres">
    <h3>âš™ï¸ ParamÃ¨tres</h3>

    <!-- Caution globale -->
    <div class="form-group">
      <label>Caution globale :</label>
      <input type="number" id="caution" value="2.00" step="0.01" min="0"
        onfocus="clearZero(this)" onblur="resetToZero(this)" oninput="onCautionChange()">
    </div>

    <!-- Bouton sous-menu produits -->
    <button class="btn-submenu" onclick="toggleSousMenuProduits()">
      <span>ğŸ§ƒ GÃ©rer les produits</span>
      <span class="submenu-badge" id="produitsBadge" style="display:none"></span>
      <span class="submenu-arrow" id="produitsArrow">â–¼</span>
    </button>

    <!-- Sous-panneau produits -->
    <div id="sousMenuProduits">
      <div id="listeProduits"></div>
      <button class="btn-ajouter" onclick="ajouterProduit()">ï¼‹ Ajouter un produit</button>
    </div>

    <button class="btn-danger" onclick="resetForm()">ğŸ”„ RÃ©initialiser</button>
  </div>
</div>

<footer id="footer">Version <span id="app-version">...</span> â€” Verre'ifieur</footer>

</body>
</html>