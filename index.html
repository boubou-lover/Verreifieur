<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Verre'ifieur</title>

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/logo192.png">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">

  <link rel="stylesheet" href="/style.css">
  <script src="/app.js" defer></script>
</head>

<body>

<img src="/logo512.png" alt="Logo Verre'ifieur" class="logo" />

<div class="calculator-container">
  <div class="caution-bubble" id="cautionBubble">Caution : 2.00 â‚¬</div>
  <h1 class="rainbow-title">Calcul cautions</h1>

  <!-- Lignes principales -->
  <div class="form-group">
    <label>Gobelets rendus</label>
    <input type="number" id="nombreGobeletsRendus" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="form-group">
    <label>
      <span class="drink-name">BiÃ¨res & softs</span>
      <span class="price-tag">(<span id="prix2E">2.00</span> â‚¬)</span>
    </label>
    <input type="number" id="nombreBoissons2E" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="form-group">
    <label>
      <span class="drink-name">BiÃ¨res spÃ©ciales</span>
      <span class="price-tag">(<span id="prix4E">4.00</span> â‚¬)</span>
    </label>
    <input type="number" id="nombreBoissons4E" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="form-group">
    <label>
      <span class="drink-name">Eau plate</span>
      <span class="note">(gratuite)</span>
    </label>
    <input type="number" id="nombreEauPlate" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <!-- Produits supplÃ©mentaires dynamiques -->
  <div class="form-group produit-extra" id="produitGroup0" style="display:none;">
    <label>
      <span class="drink-name" id="nomProduit0Label"></span>
      <span class="price-tag">
        <span id="prixProduit0Label">0.00</span> â‚¬
        <span class="caution-tag" id="cautionProduit0Tag"></span>
      </span>
    </label>
    <input type="number" id="nombreProduit0" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="form-group produit-extra" id="produitGroup1" style="display:none;">
    <label>
      <span class="drink-name" id="nomProduit1Label"></span>
      <span class="price-tag">
        <span id="prixProduit1Label">0.00</span> â‚¬
        <span class="caution-tag" id="cautionProduit1Tag"></span>
      </span>
    </label>
    <input type="number" id="nombreProduit1" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="form-group produit-extra" id="produitGroup2" style="display:none;">
    <label>
      <span class="drink-name" id="nomProduit2Label"></span>
      <span class="price-tag">
        <span id="prixProduit2Label">0.00</span> â‚¬
        <span class="caution-tag" id="cautionProduit2Tag"></span>
      </span>
    </label>
    <input type="number" id="nombreProduit2" value="0" min="0" onfocus="clearZero(this)" onblur="resetToZero(this)">
  </div>

  <div class="buttons">
    <button class="btn-calc" onclick="calculerSolde()">ğŸ’° Calculer</button>
    <button class="btn-reset" onclick="nouveauClient()">ğŸ”„ Nouveau</button>
  </div>

  <div id="resultat" class="result-box"></div>

  <div id="rendMonnaie">
    <h3>ğŸ’µ Calculatrice rapide</h3>
    <div class="form-group">
      <label>Client donne :</label>
      <input type="number" id="montantDonne" value="0" min="0" step="0.01" onfocus="clearZero(this)" onblur="resetToZero(this)" oninput="calculerRenduMonnaie()">
    </div>
    <div class="quick-buttons">
      <button class="btn-quick" onclick="setMontant(5)">5â‚¬</button>
      <button class="btn-quick" onclick="setMontant(10)">10â‚¬</button>
      <button class="btn-quick" onclick="setMontant(20)">20â‚¬</button>
      <button class="btn-quick" onclick="setMontant(50)">50â‚¬</button>
    </div>
    <p id="renduMonnaie"></p>
  </div>

  <!-- Bouton paramÃ¨tres principal -->
  <button class="settings-btn" onclick="toggleParametres()">âš™ï¸ ParamÃ¨tres</button>

  <!-- Panneau paramÃ¨tres principal -->
  <div id="parametres">
    <h3>âš™ï¸ Configuration des prix</h3>

    <div class="form-group">
      <label>Prix softs :</label>
      <input type="number" id="prix2" value="2.00" step="0.01" min="0">
    </div>
    <div class="form-group">
      <label>Prix spÃ©ciales :</label>
      <input type="number" id="prix4" value="4.00" step="0.01" min="0">
    </div>
    <div class="form-group">
      <label>Caution globale :</label>
      <input type="number" id="caution" value="2.00" step="0.01" min="0">
    </div>

    <!-- Bouton sous-menu produits -->
    <button class="btn-submenu" onclick="toggleSousMenuProduits()">
      <span>ğŸ§ƒ Produits supplÃ©mentaires</span>
      <span class="submenu-badge" id="produitsBadge"></span>
      <span class="submenu-arrow" id="produitsArrow">â–¼</span>
    </button>

    <!-- Sous-panneau produits -->
    <div id="sousMenuProduits">

      <!-- Formulaire produit actif -->
      <div class="produit-nav">
        <button class="btn-nav" onclick="navProduit(-1)">â—€</button>
        <span class="produit-nav-label" id="produitNavLabel">Produit 1 / 3</span>
        <button class="btn-nav" onclick="navProduit(1)">â–¶</button>
      </div>

      <div class="produit-form">
        <div class="form-group">
          <label>Nom :</label>
          <input type="text" id="nomProduitActif" placeholder="ex : Chips" maxlength="20" oninput="syncProduitActif()">
        </div>
        <div class="form-group">
          <label>Prix unitaire :</label>
          <input type="number" id="prixProduitActif" value="0.00" step="0.01" min="0" oninput="syncProduitActif()">
        </div>
        <div class="form-group form-group-checkbox">
          <label>Caution sur le verre :</label>
          <label class="toggle">
            <input type="checkbox" id="cautionProduitActif" onchange="syncProduitActif()">
            <span class="toggle-slider"></span>
          </label>
        </div>

        <!-- Pastilles de navigation -->
        <div class="produit-dots">
          <span class="produit-dot" id="dot0" onclick="allerProduit(0)"></span>
          <span class="produit-dot" id="dot1" onclick="allerProduit(1)"></span>
          <span class="produit-dot" id="dot2" onclick="allerProduit(2)"></span>
        </div>
      </div>

    </div>

    <button class="btn-reset" onclick="resetForm()" style="width:100%; margin-top:14px;">ğŸ”„ RÃ©initialiser tout</button>
  </div>

</div>

<footer id="footer">Version <span id="app-version">...</span> â€” Verre'ifieur</footer>

</body>
</html>